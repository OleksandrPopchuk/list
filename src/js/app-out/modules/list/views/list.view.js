define(function(a){var b,c=a("underscore"),d=(a("jquery"),a("template.collection")),e=a("common/base.view"),f=a("modules/list/collections/list.collection"),g=a("modules/list/views/list.item.view");return b=e.extend({collection:f,listItems:null,tagName:"div",className:"list-view-wrapper",template:d["list.view.hbs"],additionalEvents:{},events:function(){return c.extend(e.prototype.events,this.additionalEvents)},initialize:function(){this.listenTo(this.collection,"remove",this.render)},render:function(){return this.$el.html(this.template()),this.collection.fetch().done(function(a){if(a.length){var b=new g({model:this.collection.get(a[0].id)});this.listItems=a,this.showListItems(),b.showItemDetails(null,this.$el.find(".fn-contact-details"))}else this.showEmptyList()}.bind(this)),this},showListItems:function(){var a,b=this.$el.find(".fn-contacts-list");this.listItems.forEach(function(c,d){a=new g({model:this.collection.get(c.id)}),b.append(a.render(c).$el),0===d&&this.$el.find(".fn-list-item").addClass("active")}.bind(this))},showEmptyList:function(){var a=this.$el.find(".fn-contacts-list"),b=this.$el.find(".fn-contact-details");a.html("No items to display"),b.html("No contact selected")}})});